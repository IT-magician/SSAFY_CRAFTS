# 3번째 관통 프로젝트  

*   2번째 관통 프로젝트에서 프론트를 만든 것을 가지고, 백엔드로 변경을 하는 것이었다.  
추가 요구사항이 있다면, 사용자가 어떤 지역을 선호하는지에 대해 값을 db에 저장해야했다. 그래서 선호도 조사 부분의 프론트를 안만들었기 때문에, 내가 따로 만들었다. fixed를 이용해서, 기존 웹페이지 화면 맨 위에 덮어서 새로운 윈도우가 똑같은 창(혹은 브라우저 탭)에 새로 생긴것처럼 보이게 만들었다. 프론트 부분은 github로 바로 보여줄 수 있기 때문에 서버와 통신 없이 server 동작을 js내에서 dummy로 만들었다.  
   바로 볼수 있는 부분 : https://it-magician.github.io/SSAFY_CRAFTS/3%EB%B2%88%EC%A7%B8%20%EA%B4%80%ED%86%B5/%ED%94%84%EB%A1%A0%ED%8A%B8(possible_display)/

## 백엔드 담당부분  
*   사용자가 '시/도 -> 구/군'이나 '시/도 -> 구/군 -> 동'을 셀렉트 박스로 선택후, form의 submit을 클릭하면 해당 아파트에 대한 정보를 지도와 테이블에 표시할 수 있도록 함(짝궁이 만들었던 웹페이지를 의도에 맞게 수정함). 짝궁의 작품은 '시/도 -> 구/군 -> 동'만 선택이 가능하게 했지만, 2개의 기능이 될거라고 생각해서 추가함.
*   앞에서 말한걸 구현하기 위해 추가적으로 했던건, 만약 db에 내용이 비어있는 경우 공공데이터 포털의 xml을 파싱하여 db에 삽입후 데이터를 json string형태로 전달하도록 만듬. 그걸 js로 parse하여 table 및 지도에 표시했음.  아, 그리고 내가 담당하는 부분은 db table이 없으면, servlet의 init함수 단계에서 DDL을 사용해서 자동으로 생성하도록 만듬('선호도 조사 부분'도 db를 사용하고, 아파트 관련이라서 앞에서 말한 기능에서 db를 생성하는 부분에 같이 넣음).  
*   '선호도 조사 부분'은 로그인 했을 때 사용자 이름을 클릭해서 보여주도록 만듬. 그렇게 해서 사용자 정보가 있어야 가능해야하는 제약조건 만족과 사용자 개인정보 보호까지 하도록 만듬.  
이클립스 프로젝트의 package에서 'com.ssafy.apartment.*'은 내가 다 작성한것임



## 프론트 작업부분  
*   '선호도 조사 부분'을 새로 만듬(include(fragment)로 계획하고 만들었음)
*   팀원이 js로 css에게 이벤트 전달하는 방법을 몰라서, js를 사용해서 css에 속성을 덮어버리는 걸 수정함(active클래스를 추가하면 해당 기능이 동작하게 만들어서, 팀원의 로직을 그대로 구현함).  

## 협업부분  
 *  '선호도 조사 부분'을 역할분담하기 위해, callback함수로 따로 만들었음. callback함수는 사용자가 3번째 상자(동을 선택하는 부분)을 클릭하면 실행되는 함수이고, 이 함수를 팀원에게 전달했음. param은 html node로 전달했기 때문에, 이벤트가 일어난 상자에 대한 자식노드까지 모두 접근할 수 있게 프론트를 설계하였음. 그렇기에 node를 전달함으로써, 이벤트가 일어난 상자에서 getAttribute("code) 등을 사용해서 필요한 부분을 팀원이 최대한 사용할 수 있게 만들었음.  
*   팀원들이 모르는 부분은 알려줌.  
[그림 - 크롬 ul 구성]  
[그림 - ]
